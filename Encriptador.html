<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width">
        <title>Encriptador de Texto</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    </head>
    <body>
        <header>
            <img src="Alura Challenge - Desafío 1 - Lógica/logo3.png" class="logo">
        </header>
        

        <main>
            <section>
                <textarea name="" id="textArea" cols="30" rows="10" placeholder="Ingrese el texto aquí"></textarea> 
                <div class="alerta">
                        <img src="Alura Challenge - Desafío 1 - Lógica/bi_exclamation-circle-fill-1.png">
                        <p>Solo minúsculas y sin acentos</p>
                </div>
                <div class="botones">
                    <button class="btn-encriptar" onclick="borrarContenido(), btnEncriptar()">
                        Encriptar
                    </button>
                        
                    <button class="btn-desencriptar" onclick="borrarContenido(), btnDesencriptar()">
                        Desencriptar
                    </button>
                    
                </div>
                
            </section>

            <section class="rectangle1">
                <textarea id="desencriptado" class="mensajeDesencriptado" cols="30" rows="10"></textarea>
                <button id="btnCopy" class="botonCopiar" onclick="copy()">Copiar</button>
                <img src="Alura Challenge - Desafío 1 - Lógica/Muñeco.png" id="muñeco">
                <p id="noMen">Ningún mensaje fue encontrado</p>
                <p id="noMen2">Ingresa el texto que deseas encriptar o desencriptar</p>
            </section>
        </main>   
    
    </body>

    <script>

        function borrarContenido() {
            if(document.getElementById("textArea").value==""){
                document.getElementById("muñeco").style.display = "inline-block";
                document.getElementById("noMen").style.display = "inline-block";
                document.getElementById("noMen2").style.display = "inline-block";
                document.getElementById("desencriptado").style.display = "none";
                document.getElementById("btnCopy").style.display = "none";

            }
            else{
                document.getElementById("muñeco").style.display = "none";
                document.getElementById("noMen").style.display = "none";
                document.getElementById("noMen2").style.display = "none";
                document.getElementById("desencriptado").style.display = "block";
                document.getElementById("btnCopy").style.display = "block";

            }   
        }
        
        var mensajeDes = document.querySelector(".mensajeDesencriptado");

        
        function encriptar(stringEncriptada){
            
            let matrizCodigo = [["e", "enter"], ["i", "imes"], ["a", "ai"],["o", "ober"], ["u", "ufat"]];
            stringEncriptada = stringEncriptada.toLowerCase();
            for (let i = 0; i < matrizCodigo.length; i++) {
                if (stringEncriptada.includes(matrizCodigo[i][0])) {
                    
                    stringEncriptada = stringEncriptada.replaceAll(matrizCodigo[i][0], matrizCodigo[i][1]);

                }
                
            }
            return stringEncriptada;

}

        function btnEncriptar(){
            const textoEncriptado = encriptar(textArea.value);
            mensajeDes.value = textoEncriptado;
              
            }

        function desencriptar(stringDesencriptada){

            let matrizCodigo = [["e", "enter"], ["i", "imes"], ["a", "ai"],["o", "ober"], ["u", "ufat"]];
            stringDesencriptada = stringDesencriptada.toLowerCase();
            for (let i = 0; i < matrizCodigo.length; i++) {
                if (stringDesencriptada.includes(matrizCodigo[i][1])) {
                    
                    stringDesencriptada = stringDesencriptada.replaceAll(matrizCodigo[i][1], matrizCodigo[i][0]);

                }
                
            }
            return stringDesencriptada;

        }

        function btnDesencriptar(){
            const textoDesencriptado = desencriptar(textArea.value);
            mensajeDes.value = textoDesencriptado;
              
            }

        function copy(){
            var copia = mensajeDes.value;
            navigator.clipboard.writeText(copia);
        }

    </script>

</html>